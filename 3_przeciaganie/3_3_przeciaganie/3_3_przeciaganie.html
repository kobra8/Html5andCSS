<!DOCTYPE html>

<head>
<meta charset="utf-8">
<title>Przeciąganie obrazka</title>

<link rel="stylesheet" type="text/css" href="style.css" />

<script type="text/javascript">
	
	function init(){
		document.getElementById("startPoint").addEventListener("dragstart",onDragStart, false);
		document.getElementById("endPoint").addEventListener("dragover",onDragOver, false);
		document.getElementById("endPoint").addEventListener("drop",dropItem, false);
	}
	
	function onDragStart(event){
		//Funkcja dataTransfer tworzy obiekt przy przeciąganiu, który można ustawić pod określona nazwą
		event.dataTransfer.setData('ImageRef',event.target.id);
	}
	
	function onDragOver(e){
		//Blokada domyślnego zachowania przeglądarki przy pozycji przed upuszczeniem
		// w tym przypadku brak możliwości upuszczenia obrazka
		e.preventDefault();
		return false;
	}
	
	function dropItem(event){
		var source = event.dataTransfer.getData('ImageRef');
		event.target.appendChild(document.getElementById(source));
		event.preventDefault();
	}
	
	window.onload = function(){
		init();
	}
	//The DataTransfer.setData() method sets the drag operation's drag data to the specified data and type. 
	//If data for the given type does not exist, it is added at the end of the drag data store, 
	//such that the last item in the types list will be the new type. 
	//If data for the given type already exists, the existing data is replaced in the same position.
	//That is, the order of the types list is not changed when replacing data of the same type.
	
</script>

</head>

<body>

    <span id="startPoint" draggable="true">
    <img src="okladka.png" alt="#" id="obrazek" />
    </span>
    <div id="endPoint">
    </div>
    
</body>
</html>
