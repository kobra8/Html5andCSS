<!DOCTYPE html>

<head>
<meta charset="utf-8">
<title>File Reader TXT fragment</title>

<link rel="stylesheet" type="text/css" href="style.css" />

<script type="text/javascript">

	function init(){
		document.getElementById("fileInput").addEventListener("change",onChange);
	}

	window.addEventListener("load",init);
	
	function onChange(loader){
		var newFile = loader.target.files[0];
		var start = 0;
		var end = 40;
		if(newFile.type != "text/plain" ){
			alert("To nie jest plik tekstowy");
			return;
		}
		
		var reader = new FileReader();
		
		reader.onload = function(event){
			var content = event.target.result;
			document.getElementById("container").innerHTML = content;
		}
		var fragment = newFile.slice(start,end);
		reader.readAsText(fragment);
		
	}

</script>

</head>

<body>

    <input type="file" id="fileInput" />
    <div id="container"></div>

</body>
</html>



